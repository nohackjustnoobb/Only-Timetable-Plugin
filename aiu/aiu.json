{
  "id": "aiu",
  "name": "AIU",
  "version": "1.0.0",
  "description": "国際教養大学線の時刻表を提供するプラグインです。",
  "repositoryUrl": "https://github.com/nohackjustnoobb/Only-Timetable-Plugin",
  "updatesUrl": "https://raw.githubusercontent.com/nohackjustnoobb/Only-Timetable-Plugin/refs/heads/static/aiu/aiu.json",
  "updateRoutesScript": "async function t(a){await sendMessage(\"saveRoutes\",a.map(e=>(e.meta&&(e.meta=JSON.stringify(e.meta)),e.source&&(e.source=JSON.stringify(e.source)),e)))}async function s(a){await sendMessage(\"saveStops\",a.map(e=>(e.name&&(e.name=JSON.stringify(e.name)),e.meta&&(e.meta=JSON.stringify(e.meta)),e)))}async function n(a){let e=await sendMessage(\"getValue\",a);return e??null}async function i(a,e){await sendMessage(\"setValue\",a,e)}var r=[{id:\"1\",displayId:\"AIU\",source:{en:\"\\u30D0\\u30B9\"},dest:\"5\",orig:\"1\",stops:[\"1\",\"2\",\"3\",\"4\",\"5\"]},{id:\"1+\",displayId:\"AIU\",source:{en:\"\\u30D0\\u30B9\"},dest:\"1\",orig:\"5\",stops:[\"5\",\"4\",\"3\",\"2\",\"1\"]},{id:\"2\",displayId:\"AIU\",source:{en:\"\\u30D0\\u30B9\"},dest:\"6\",orig:\"1\",stops:[\"1\",\"6\"]},{id:\"2+\",displayId:\"AIU\",source:{en:\"\\u30D0\\u30B9\"},dest:\"1\",orig:\"6\",stops:[\"6\",\"1\"]},{id:\"3\",displayId:\"AIU\",source:{en:\"\\u30D0\\u30B9\"},dest:\"7\",orig:\"1\",stops:[\"1\",\"7\"]},{id:\"3+\",displayId:\"AIU\",source:{en:\"\\u30D0\\u30B9\"},dest:\"1\",orig:\"7\",stops:[\"7\",\"1\"]}],o=[{id:\"1\",name:{en:\"\\u56FD\\u969B\\u6559\\u990A\\u5927\\u5B66\\u524D\"},lat:39.626371,long:140.197748},{id:\"2\",name:{en:\"\\u30B9\\u30DD\\u30FC\\u30C4\\u30BE\\u30FC\\u30F3\\u5165\\u53E3\"},lat:39.625462,long:140.195917},{id:\"3\",name:{en:\"\\u5FA1\\u6240\\u91CE\"},lat:39.660623,long:140.168889},{id:\"4\",name:{en:\"\\u5FA1\\u6240\\u91CE\\u30CB\\u30E5\\u30FC\\u30BF\\u30A6\\u30F3\"},lat:39.662723,long:140.164687},{id:\"5\",name:{en:\"\\u30A4\\u30AA\\u30F3\\u30E2\\u30FC\\u30EB\\u79CB\\u7530\"},lat:39.662521,long:140.160781},{id:\"6\",name:{en:\"\\u548C\\u7530\\u99C5\"},lat:39.651035,long:140.217908},{id:\"7\",name:{en:\"\\u79CB\\u7530\\u7A7A\\u6E2F\"},lat:39.611576,long:140.220176}];var l=24*60*60*1e3;async function d(){let a=await n(\"lastUpdate\");a&&Date.now()-Number(a)<l||(await s(o),await t(r),await i(\"lastUpdate\",String(Date.now())))}var p=d;export{p as default};\n",
  "getEtaScript": "var c={1:{timeTake:[0,8,1,6],regular:[[9,15],[12,10],[15,25],[18,10],[19,30],[21,45]],holiday:[[9,15],[10,30],[12,10],[14,30],[15,25],[16,30],[18,10],[18,40],[19,30],[21,45]],semBreak:[[9,15],[10,30],[12,10],[15,25],[18,40]]},\"1+\":{timeTake:[6,1,8,0],regular:[[8,0],[9,15],[11,30],[15,5],[16,55],[19,10],[21,10],[22,10]],holiday:[[8,0],[9,15],[10,5],[11,30],[13,15],[15,5],[16,0],[16,55],[18,5],[19,10],[21,10],[22,10]],semBreak:[[8,0],[10,5],[11,30],[15,5],[16,55],[21,10],[22,10]]},2:{timeTake:[15],regular:[[17,35]]},\"2+\":{timeTake:[15],regular:[[8,35]]},3:{timeTake:[15],regular:[[8,25],[15,20]]},\"3+\":{timeTake:[8],regular:[[8,35],[15,30]]}},f=[\"2026-03-21\",\"2026-04-30\",\"2026-05-01\",\"2026-10-14\"],k=[[\"2025-08-01\",\"2025-08-31\"],[\"2025-12-25\",\"2026-01-04\"],[\"2026-03-05\",\"2026-03-20\"],[\"2026-03-22\",\"2026-03-31\"]],p={3:{onlyOn:[\"2025-04-01\",\"2025-04-08\",\"2025-08-25\",\"2025-09-01\",\"2025-10-12\",\"2025-10-13\",\"2025-12-19\",\"2025-12-20\",\"2025-12-21\",\"2025-12-22\",\"2025-12-23\",\"2025-12-24\",\"2026-03-21\"]},\"3+\":{onlyOn:[\"2025-04-01\",\"2025-04-08\",\"2025-08-25\",\"2025-09-01\",\"2025-10-12\",\"2025-10-13\",\"2025-12-19\",\"2025-12-20\",\"2025-12-21\",\"2025-12-22\",\"2025-12-23\",\"2025-12-24\",\"2026-03-21\"]}};function l(s,g,e){let r=c[s];if(!r)return[];let m=(r[g]||[]).filter(t=>t.length===2),d=e.getHours()*60+e.getMinutes();return m.map(([t,a])=>[t,a]).filter(([t,a])=>t*60+a>=d).sort((t,a)=>t[0]*60+t[1]-(a[0]*60+a[1])).slice(0,3).map(([t,a])=>new Date(e.getFullYear(),e.getMonth(),e.getDate(),t,a,0,0).getTime())}async function I(s,g){let e=new Date,r=e.toISOString().slice(0,10),m=s.stops.indexOf(g.id),d=0;m>0&&(d=c[s.id].timeTake.slice(0,m).reduce((o,u)=>o+u,0));let n=i=>i+d*60*1e3;if(Object.keys(p).includes(s.id))return p[s.id].onlyOn.includes(r)?l(s.id,\"regular\",e).map(o=>({isRealTime:!1,arrivalTime:n(o)})):[];let t=c[s.id];if(t.holiday===void 0&&t.semBreak===void 0)return l(s.id,\"regular\",e).map(i=>({isRealTime:!1,arrivalTime:n(i)}));if(k.some(([i,o])=>{let u=new Date(i),T=new Date(o);return u.setHours(0,0,0,0),T.setHours(23,59,59,999),e>=u&&e<=T}))return l(s.id,\"semBreak\",e).map(i=>({isRealTime:!1,arrivalTime:n(i)}));let y=e.getDay()===0||e.getDay()===6,b=f.includes(r);return y||b?l(s.id,\"holiday\",e).map(i=>({isRealTime:!1,arrivalTime:n(i)})):l(s.id,\"regular\",e).map(i=>({isRealTime:!1,arrivalTime:n(i)}))}var B=I;export{B as default};\n"
}